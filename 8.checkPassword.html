<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <title>03checkPassword.html</title>
  </head>
  <body>
    <label>Password:</label>
    <input
      type="password"
      id="idPwd"
      size="6"
    /><!-- 瀏覽器執行到此標籤會建立一個物件-->
    <span id="idsp"></span><br />
    <input
      type="button"
      id="idbut"
      value="輸入Password"
      onclick="checkPwd();"
    />

    <script>
      function checkPwd() {
        //取得idPwd元素
        const idPwd = document.querySelector("#idPwd");
        const idsp = document.querySelector("#idsp");
        // const check = "(?=.*[0-9])(?=.*[a-zA-Z])";
        const check = new RegExp(
          "(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^a-zA-Z0-9]).{8,30}"
        );
        //取得idPwd元素值
        const myPwd = idPwd.value;
        console.log(myPwd);
        //判斷元素值是否為空白，密碼長度是否大於6
        if (myPwd === "") {
          idsp.innerHTML = "請輸入密碼";
        } else if (myPwd.length <= 8) {
          idsp.innerHTML = "密碼請大於8位數";
        } else if (myPwd.length > 8) {
          //如果長度是否大於6，判斷是否包含字母、數字、特殊符號
          if (!check.test(myPwd)) {
            idsp.innerHTML =
              "密碼請輸入至少包含一個大寫字母、小寫字母、數字、符號";
          } else {
            idsp.innerHTML = "密碼格式成功";
          }
        } else {
          idsp.innerHTML = "密碼格式不正確";
        }
      }
    </script>
  </body>
</html>
